<html>
<head>
<title>rect_test.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6897bb;}
.s3 { color: #629755; font-style: italic;}
.s4 { color: #6a8759;}
.s5 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
rect_test.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">unittest</span>
<span class="s0">from </span><span class="s1">pygame </span><span class="s0">import </span><span class="s1">Rect</span>

<span class="s0">class </span><span class="s1">RectTypeTest(unittest.TestCase):</span>
    <span class="s0">def </span><span class="s1">testConstructionXYWidthHeight(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.left)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">2</span><span class="s0">, </span><span class="s1">r.top)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">3</span><span class="s0">, </span><span class="s1">r.width)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">4</span><span class="s0">, </span><span class="s1">r.height)</span>

    <span class="s0">def </span><span class="s1">testConstructionTopLeftSize(self):</span>
        <span class="s1">r = Rect((</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">))</span>
        <span class="s1">self.assertEqual(</span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.left)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">2</span><span class="s0">, </span><span class="s1">r.top)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">3</span><span class="s0">, </span><span class="s1">r.width)</span>
        <span class="s1">self.assertEqual(</span><span class="s2">4</span><span class="s0">, </span><span class="s1">r.height)</span>

    <span class="s0">def </span><span class="s1">testCalculatedAttributes(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>

        <span class="s1">self.assertEqual(r.left + r.width</span><span class="s0">, </span><span class="s1">r.right)</span>
        <span class="s1">self.assertEqual(r.top + r.height</span><span class="s0">, </span><span class="s1">r.bottom)</span>
        <span class="s1">self.assertEqual((r.width</span><span class="s0">, </span><span class="s1">r.height)</span><span class="s0">, </span><span class="s1">r.size)</span>
        <span class="s1">self.assertEqual((r.left</span><span class="s0">, </span><span class="s1">r.top)</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual((r.right</span><span class="s0">, </span><span class="s1">r.top)</span><span class="s0">, </span><span class="s1">r.topright)</span>
        <span class="s1">self.assertEqual((r.left</span><span class="s0">, </span><span class="s1">r.bottom)</span><span class="s0">, </span><span class="s1">r.bottomleft)</span>
        <span class="s1">self.assertEqual((r.right</span><span class="s0">, </span><span class="s1">r.bottom)</span><span class="s0">, </span><span class="s1">r.bottomright)</span>

        <span class="s1">midx = r.left + r.width // </span><span class="s2">2</span>
        <span class="s1">midy = r.top + r.height // </span><span class="s2">2</span>

        <span class="s1">self.assertEqual(midx</span><span class="s0">, </span><span class="s1">r.centerx)</span>
        <span class="s1">self.assertEqual(midy</span><span class="s0">, </span><span class="s1">r.centery)</span>
        <span class="s1">self.assertEqual((r.centerx</span><span class="s0">, </span><span class="s1">r.centery)</span><span class="s0">, </span><span class="s1">r.center)</span>
        <span class="s1">self.assertEqual((r.centerx</span><span class="s0">, </span><span class="s1">r.top)</span><span class="s0">, </span><span class="s1">r.midtop)</span>
        <span class="s1">self.assertEqual((r.centerx</span><span class="s0">, </span><span class="s1">r.bottom)</span><span class="s0">, </span><span class="s1">r.midbottom)</span>
        <span class="s1">self.assertEqual((r.left</span><span class="s0">, </span><span class="s1">r.centery)</span><span class="s0">, </span><span class="s1">r.midleft)</span>
        <span class="s1">self.assertEqual((r.right</span><span class="s0">, </span><span class="s1">r.centery)</span><span class="s0">, </span><span class="s1">r.midright)</span>

    <span class="s0">def </span><span class="s1">test_normalize(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">3</span><span class="s0">, </span><span class="s1">-</span><span class="s2">6</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(r)</span>
        <span class="s1">r2.normalize()</span>
        <span class="s1">self.assertTrue(r2.width &gt;= </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r2.height &gt;= </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">self.assertEqual((abs(r.width)</span><span class="s0">, </span><span class="s1">abs(r.height))</span><span class="s0">, </span><span class="s1">r2.size)</span>
        <span class="s1">self.assertEqual((-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">4</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r2.topleft)</span>

    <span class="s0">def </span><span class="s1">test_left(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the left attribute moves the rect and does not change 
           the rect's width 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_left = </span><span class="s2">10</span>

        <span class="s1">r.left = new_left</span>
        <span class="s1">self.assertEqual(new_left</span><span class="s0">, </span><span class="s1">r.left)</span>
        <span class="s1">self.assertEqual(Rect(new_left</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r)</span>

    <span class="s0">def </span><span class="s1">test_right(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the right attribute moves the rect and does not change 
           the rect's width 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_right = r.right + </span><span class="s2">20</span>
        <span class="s1">expected_left = r.left + </span><span class="s2">20</span>
        <span class="s1">old_width = r.width</span>

        <span class="s1">r.right = new_right</span>
        <span class="s1">self.assertEqual(new_right</span><span class="s0">, </span><span class="s1">r.right)</span>
        <span class="s1">self.assertEqual(expected_left</span><span class="s0">, </span><span class="s1">r.left)</span>
        <span class="s1">self.assertEqual(old_width</span><span class="s0">, </span><span class="s1">r.width)</span>

    <span class="s0">def </span><span class="s1">test_top(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the top attribute moves the rect and does not change 
           the rect's width 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_top = </span><span class="s2">10</span>

        <span class="s1">r.top = new_top</span>
        <span class="s1">self.assertEqual(Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s1">new_top</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r)</span>
        <span class="s1">self.assertEqual(new_top</span><span class="s0">, </span><span class="s1">r.top)</span>

    <span class="s0">def </span><span class="s1">test_bottom(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the bottom attribute moves the rect and does not change 
           the rect's height 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_bottom = r.bottom + </span><span class="s2">20</span>
        <span class="s1">expected_top = r.top + </span><span class="s2">20</span>
        <span class="s1">old_height = r.height</span>

        <span class="s1">r.bottom = new_bottom</span>
        <span class="s1">self.assertEqual(new_bottom</span><span class="s0">, </span><span class="s1">r.bottom)</span>
        <span class="s1">self.assertEqual(expected_top</span><span class="s0">, </span><span class="s1">r.top)</span>
        <span class="s1">self.assertEqual(old_height</span><span class="s0">, </span><span class="s1">r.height)</span>

    <span class="s0">def </span><span class="s1">test_centerx(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the centerx attribute moves the rect and does not change 
           the rect's width 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_centerx = r.centerx + </span><span class="s2">20</span>
        <span class="s1">expected_left = r.left + </span><span class="s2">20</span>
        <span class="s1">old_width = r.width</span>

        <span class="s1">r.centerx = new_centerx</span>
        <span class="s1">self.assertEqual(new_centerx</span><span class="s0">, </span><span class="s1">r.centerx)</span>
        <span class="s1">self.assertEqual(expected_left</span><span class="s0">, </span><span class="s1">r.left)</span>
        <span class="s1">self.assertEqual(old_width</span><span class="s0">, </span><span class="s1">r.width)</span>

    <span class="s0">def </span><span class="s1">test_centery(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the centerx attribute moves the rect and does not change 
           the rect's width 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_centery = r.centery + </span><span class="s2">20</span>
        <span class="s1">expected_top = r.top + </span><span class="s2">20</span>
        <span class="s1">old_height = r.height</span>

        <span class="s1">r.centery = new_centery</span>
        <span class="s1">self.assertEqual(new_centery</span><span class="s0">, </span><span class="s1">r.centery)</span>
        <span class="s1">self.assertEqual(expected_top</span><span class="s0">, </span><span class="s1">r.top)</span>
        <span class="s1">self.assertEqual(old_height</span><span class="s0">, </span><span class="s1">r.height)</span>

    <span class="s0">def </span><span class="s1">test_topleft(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the topleft attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.topleft = new_topleft</span>
        <span class="s1">self.assertEqual(new_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_bottomleft(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the bottomleft attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_bottomleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.bottom + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.bottomleft = new_bottomleft</span>
        <span class="s1">self.assertEqual(new_bottomleft</span><span class="s0">, </span><span class="s1">r.bottomleft)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_topright(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the bottomleft attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_topright = (r.right + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.topright = new_topright</span>
        <span class="s1">self.assertEqual(new_topright</span><span class="s0">, </span><span class="s1">r.topright)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_bottomright(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the bottomright attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_bottomright = (r.right + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.bottom + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.bottomright = new_bottomright</span>
        <span class="s1">self.assertEqual(new_bottomright</span><span class="s0">, </span><span class="s1">r.bottomright)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_center(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the center attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_center = (r.centerx + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.centery + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.center = new_center</span>
        <span class="s1">self.assertEqual(new_center</span><span class="s0">, </span><span class="s1">r.center)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_midleft(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the midleft attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_midleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.centery + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.midleft = new_midleft</span>
        <span class="s1">self.assertEqual(new_midleft</span><span class="s0">, </span><span class="s1">r.midleft)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_midright(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the midright attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_midright= (r.right + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.centery + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.midright = new_midright</span>
        <span class="s1">self.assertEqual(new_midright</span><span class="s0">, </span><span class="s1">r.midright)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_midtop(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the midtop attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_midtop= (r.centerx + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.midtop = new_midtop</span>
        <span class="s1">self.assertEqual(new_midtop</span><span class="s0">, </span><span class="s1">r.midtop)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_midbottom(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the midbottom attribute moves the rect and does not change 
           the rect's size 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_midbottom = (r.centerx + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.bottom + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">expected_topleft = (r.left + </span><span class="s2">20</span><span class="s0">, </span><span class="s1">r.top + </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">old_size = r.size</span>

        <span class="s1">r.midbottom = new_midbottom</span>
        <span class="s1">self.assertEqual(new_midbottom</span><span class="s0">, </span><span class="s1">r.midbottom)</span>
        <span class="s1">self.assertEqual(expected_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">self.assertEqual(old_size</span><span class="s0">, </span><span class="s1">r.size)</span>

    <span class="s0">def </span><span class="s1">test_width(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the width resizes the rect from the top-left corner 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_width = </span><span class="s2">10</span>
        <span class="s1">old_topleft = r.topleft</span>
        <span class="s1">old_height = r.height</span>

        <span class="s1">r.width = new_width</span>
        <span class="s1">self.assertEqual(new_width</span><span class="s0">, </span><span class="s1">r.width)</span>
        <span class="s1">self.assertEqual(old_height</span><span class="s0">, </span><span class="s1">r.height)</span>
        <span class="s1">self.assertEqual(old_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>

    <span class="s0">def </span><span class="s1">test_height(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the height resizes the rect from the top-left corner 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_height = </span><span class="s2">10</span>
        <span class="s1">old_topleft = r.topleft</span>
        <span class="s1">old_width = r.width</span>

        <span class="s1">r.height = new_height</span>
        <span class="s1">self.assertEqual(new_height</span><span class="s0">, </span><span class="s1">r.height)</span>
        <span class="s1">self.assertEqual(old_width</span><span class="s0">, </span><span class="s1">r.width)</span>
        <span class="s1">self.assertEqual(old_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>

    <span class="s0">def </span><span class="s1">test_size(self):</span>
        <span class="s3">&quot;&quot;&quot;Changing the size resizes the rect from the top-left corner 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">new_size = (</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)</span>
        <span class="s1">old_topleft = r.topleft</span>

        <span class="s1">r.size = new_size</span>
        <span class="s1">self.assertEqual(new_size</span><span class="s0">, </span><span class="s1">r.size)</span>
        <span class="s1">self.assertEqual(old_topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>

    <span class="s0">def </span><span class="s1">test_contains(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>

        <span class="s1">self.assertTrue(r.contains(Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">))</span><span class="s0">,</span>
                        <span class="s4">&quot;r does not contain Rect(2, 3, 1, 1)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r.contains(Rect(r))</span><span class="s0">,</span>
                        <span class="s4">&quot;r does not contain the same rect as itself&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r.contains(Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">))</span><span class="s0">,</span>
                        <span class="s4">&quot;r does not contain an empty rect within its bounds&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.contains(Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r contains Rect(0, 0, 1, 2)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.contains(Rect(</span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r contains Rect(4, 6, 1, 1)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.contains(Rect(</span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r contains Rect(4, 6, 0, 0)&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_collidepoint(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>

        <span class="s1">self.assertTrue(r.collidepoint(r.left</span><span class="s0">, </span><span class="s1">r.top)</span><span class="s0">,</span>
                        <span class="s4">&quot;r does not collide with point (left, top)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.left - </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.top)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (left - 1, top)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.left</span><span class="s0">, </span><span class="s1">r.top - </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (left, top - 1)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.left - </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.top - </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (left - 1, top - 1)&quot;</span><span class="s1">)</span>

        <span class="s1">self.assertTrue(r.collidepoint(r.right - </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.bottom - </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
                        <span class="s4">&quot;r does not collide with point (right - 1, bottom - 1)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.right</span><span class="s0">, </span><span class="s1">r.bottom)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (right, bottom)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.right - </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r.bottom)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (right - 1, bottom)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r.collidepoint(r.right</span><span class="s0">, </span><span class="s1">r.bottom - </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
                         <span class="s4">&quot;r collides with point (right, bottom - 1)&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_inflate__larger(self):</span>
        <span class="s3">&quot;&quot;&quot;The inflate method inflates around the center of the rectangle 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">8</span><span class="s1">)</span>
        <span class="s1">r2 = r.inflate(</span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s1">)</span>

        <span class="s1">self.assertEqual(r.center</span><span class="s0">, </span><span class="s1">r2.center)</span>
        <span class="s1">self.assertEqual(r.left - </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.left)</span>
        <span class="s1">self.assertEqual(r.top - </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.top)</span>
        <span class="s1">self.assertEqual(r.right + </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.right)</span>
        <span class="s1">self.assertEqual(r.bottom + </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.bottom)</span>
        <span class="s1">self.assertEqual(r.width + </span><span class="s2">4</span><span class="s0">, </span><span class="s1">r2.width)</span>
        <span class="s1">self.assertEqual(r.height + </span><span class="s2">6</span><span class="s0">, </span><span class="s1">r2.height)</span>

    <span class="s0">def </span><span class="s1">test_inflate__smaller(self):</span>
        <span class="s3">&quot;&quot;&quot;The inflate method inflates around the center of the rectangle 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">8</span><span class="s1">)</span>
        <span class="s1">r2 = r.inflate(-</span><span class="s2">4</span><span class="s0">, </span><span class="s1">-</span><span class="s2">6</span><span class="s1">)</span>

        <span class="s1">self.assertEqual(r.center</span><span class="s0">, </span><span class="s1">r2.center)</span>
        <span class="s1">self.assertEqual(r.left + </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.left)</span>
        <span class="s1">self.assertEqual(r.top + </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.top)</span>
        <span class="s1">self.assertEqual(r.right - </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.right)</span>
        <span class="s1">self.assertEqual(r.bottom - </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.bottom)</span>
        <span class="s1">self.assertEqual(r.width - </span><span class="s2">4</span><span class="s0">, </span><span class="s1">r2.width)</span>
        <span class="s1">self.assertEqual(r.height - </span><span class="s2">6</span><span class="s0">, </span><span class="s1">r2.height)</span>

    <span class="s0">def </span><span class="s1">test_inflate_ip__larger(self):</span>
        <span class="s3">&quot;&quot;&quot;The inflate_ip method inflates around the center of the rectangle 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">8</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(r)</span>
        <span class="s1">r2.inflate_ip(-</span><span class="s2">4</span><span class="s0">, </span><span class="s1">-</span><span class="s2">6</span><span class="s1">)</span>

        <span class="s1">self.assertEqual(r.center</span><span class="s0">, </span><span class="s1">r2.center)</span>
        <span class="s1">self.assertEqual(r.left + </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.left)</span>
        <span class="s1">self.assertEqual(r.top + </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.top)</span>
        <span class="s1">self.assertEqual(r.right - </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.right)</span>
        <span class="s1">self.assertEqual(r.bottom - </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.bottom)</span>
        <span class="s1">self.assertEqual(r.width - </span><span class="s2">4</span><span class="s0">, </span><span class="s1">r2.width)</span>
        <span class="s1">self.assertEqual(r.height - </span><span class="s2">6</span><span class="s0">, </span><span class="s1">r2.height)</span>

    <span class="s0">def </span><span class="s1">test_inflate_ip__smaller(self):</span>
        <span class="s3">&quot;&quot;&quot;The inflate method inflates around the center of the rectangle 
        &quot;&quot;&quot;</span>
        <span class="s1">r = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">6</span><span class="s0">, </span><span class="s2">8</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(r)</span>
        <span class="s1">r2.inflate_ip(-</span><span class="s2">4</span><span class="s0">, </span><span class="s1">-</span><span class="s2">6</span><span class="s1">)</span>

        <span class="s1">self.assertEqual(r.center</span><span class="s0">, </span><span class="s1">r2.center)</span>
        <span class="s1">self.assertEqual(r.left + </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.left)</span>
        <span class="s1">self.assertEqual(r.top + </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.top)</span>
        <span class="s1">self.assertEqual(r.right - </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2.right)</span>
        <span class="s1">self.assertEqual(r.bottom - </span><span class="s2">3</span><span class="s0">, </span><span class="s1">r2.bottom)</span>
        <span class="s1">self.assertEqual(r.width - </span><span class="s2">4</span><span class="s0">, </span><span class="s1">r2.width)</span>
        <span class="s1">self.assertEqual(r.height - </span><span class="s2">6</span><span class="s0">, </span><span class="s1">r2.height)</span>

    <span class="s0">def </span><span class="s1">test_clamp(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">c = Rect(</span><span class="s2">19</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">).clamp(r)</span>
        <span class="s1">self.assertEqual(c.right</span><span class="s0">, </span><span class="s1">r.right)</span>
        <span class="s1">self.assertEqual(c.top</span><span class="s0">, </span><span class="s2">12</span><span class="s1">)</span>
        <span class="s1">c = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">).clamp(r)</span>
        <span class="s1">self.assertEqual(c.topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">c = Rect(</span><span class="s2">5</span><span class="s0">, </span><span class="s2">500</span><span class="s0">, </span><span class="s2">22</span><span class="s0">, </span><span class="s2">33</span><span class="s1">).clamp(r)</span>
        <span class="s1">self.assertEqual(c.center</span><span class="s0">, </span><span class="s1">r.center)</span>

    <span class="s0">def </span><span class="s1">test_clamp_ip(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">c = Rect(</span><span class="s2">19</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span>
        <span class="s1">c.clamp_ip(r)</span>
        <span class="s1">self.assertEqual(c.right</span><span class="s0">, </span><span class="s1">r.right)</span>
        <span class="s1">self.assertEqual(c.top</span><span class="s0">, </span><span class="s2">12</span><span class="s1">)</span>
        <span class="s1">c = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">c.clamp_ip(r)</span>
        <span class="s1">self.assertEqual(c.topleft</span><span class="s0">, </span><span class="s1">r.topleft)</span>
        <span class="s1">c = Rect(</span><span class="s2">5</span><span class="s0">, </span><span class="s2">500</span><span class="s0">, </span><span class="s2">22</span><span class="s0">, </span><span class="s2">33</span><span class="s1">)</span>
        <span class="s1">c.clamp_ip(r)</span>
        <span class="s1">self.assertEqual(c.center</span><span class="s0">, </span><span class="s1">r.center)</span>

    <span class="s0">def </span><span class="s1">test_clip(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1.clip( Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)))</span>
        <span class="s1">self.assertEqual(Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1.clip( Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)))</span>
        <span class="s1">self.assertEqual(Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1.clip(Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)))</span>
        <span class="s1">self.assertEqual((</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1.clip(</span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">6</span><span class="s1">).size)</span>
        <span class="s1">self.assertEqual(r1</span><span class="s0">, </span><span class="s1">r1.clip(Rect(r1))</span><span class="s0">,</span>
                         <span class="s4">&quot;r1 does not clip an identical rect to itself&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_move(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">move_x = </span><span class="s2">10</span>
        <span class="s1">move_y = </span><span class="s2">20</span>
        <span class="s1">r2 = r.move(move_x</span><span class="s0">, </span><span class="s1">move_y)</span>
        <span class="s1">expected_r2 = Rect(r.left + move_x</span><span class="s0">, </span><span class="s1">r.top + move_y</span><span class="s0">, </span><span class="s1">r.width</span><span class="s0">, </span><span class="s1">r.height)</span>
        <span class="s1">self.assertEqual(expected_r2</span><span class="s0">, </span><span class="s1">r2)</span>

    <span class="s0">def </span><span class="s1">test_move_ip(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(r)</span>
        <span class="s1">move_x = </span><span class="s2">10</span>
        <span class="s1">move_y = </span><span class="s2">20</span>
        <span class="s1">r2.move_ip(move_x</span><span class="s0">, </span><span class="s1">move_y)</span>
        <span class="s1">expected_r2 = Rect(r.left + move_x</span><span class="s0">, </span><span class="s1">r.top + move_y</span><span class="s0">, </span><span class="s1">r.width</span><span class="s0">, </span><span class="s1">r.height)</span>
        <span class="s1">self.assertEqual(expected_r2</span><span class="s0">, </span><span class="s1">r2)</span>

    <span class="s0">def </span><span class="s1">test_union(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1.union(r2))</span>

    <span class="s0">def </span><span class="s1">test_union__with_identical_Rect(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r1</span><span class="s0">, </span><span class="s1">r1.union(Rect(r1)))</span>

    <span class="s0">def </span><span class="s1">test_union_ip(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">r1.union_ip(r2)</span>
        <span class="s1">self.assertEqual(Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1)</span>

    <span class="s0">def </span><span class="s1">test_unionall(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">r3 = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>

        <span class="s1">r4 = r1.unionall([r2</span><span class="s0">, </span><span class="s1">r3])</span>
        <span class="s1">self.assertEqual(Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r4)</span>

    <span class="s0">def </span><span class="s1">test_unionall_ip(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">r3 = Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>

        <span class="s1">r1.unionall_ip([r2</span><span class="s0">, </span><span class="s1">r3])</span>
        <span class="s1">self.assertEqual(Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span><span class="s0">, </span><span class="s1">r1)</span>

        <span class="s5"># Bug for an empty list. Would return a Rect instead of None.</span>
        <span class="s1">self.assertTrue(r1.unionall_ip([]) </span><span class="s0">is None</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_colliderect(self):</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r1.colliderect(Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">))</span><span class="s0">,</span>
                        <span class="s4">&quot;r1 does not collide with Rect(0, 0, 2, 3)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r1.colliderect(Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r1 collides with Rect(0, 0, 1, 2)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r1.colliderect(Rect(r1.right</span><span class="s0">, </span><span class="s1">r1.bottom</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r1 collides with Rect(r1.right, r1.bottom, 2, 2)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r1.colliderect(Rect(r1.left + </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r1.top + </span><span class="s2">1</span><span class="s0">,</span>
                                            <span class="s1">r1.width - </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r1.height - </span><span class="s2">2</span><span class="s1">))</span><span class="s0">,</span>
                        <span class="s4">&quot;r1 does not collide with Rect(r1.left + 1, r1.top + 1, &quot;</span><span class="s1">+</span>
                        <span class="s4">&quot;r1.width - 2, r1.height - 2)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r1.colliderect(Rect(r1.left - </span><span class="s2">1</span><span class="s0">, </span><span class="s1">r1.top - </span><span class="s2">1</span><span class="s0">,</span>
                                            <span class="s1">r1.width + </span><span class="s2">2</span><span class="s0">, </span><span class="s1">r1.height + </span><span class="s2">2</span><span class="s1">))</span><span class="s0">,</span>
                        <span class="s4">&quot;r1 does not collide with Rect(r1.left - 1, r1.top - 1, &quot;</span><span class="s1">+</span>
                        <span class="s4">&quot;r1.width + 2, r1.height + 2)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(r1.colliderect(Rect(r1))</span><span class="s0">,</span>
                        <span class="s4">&quot;r1 does not collide with an identical rect&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r1.colliderect(Rect(r1.right</span><span class="s0">, </span><span class="s1">r1.bottom</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r1 collides with Rect(r1.right, r1.bottom, 0, 0)&quot;</span><span class="s1">)</span>
        <span class="s1">self.assertFalse(r1.colliderect(Rect(r1.right</span><span class="s0">, </span><span class="s1">r1.bottom</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">))</span><span class="s0">,</span>
                         <span class="s4">&quot;r1 collides with Rect(r1.right, r1.bottom, 1, 1)&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">testEquals(self):</span>
        <span class="s3">&quot;&quot;&quot; check to see how the rect uses __eq__ 
        &quot;&quot;&quot;</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">40</span><span class="s1">)</span>
        <span class="s1">r3 = (</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">40</span><span class="s1">)</span>
        <span class="s1">r4 = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">40</span><span class="s1">)</span>

        <span class="s0">class </span><span class="s1">foo (Rect):</span>
            <span class="s0">def </span><span class="s1">__eq__(self</span><span class="s0">, </span><span class="s1">other):</span>
                <span class="s0">return </span><span class="s1">id(self) == id(other)</span>
            <span class="s0">def </span><span class="s1">__ne__(self</span><span class="s0">, </span><span class="s1">other):</span>
                <span class="s0">return </span><span class="s1">id(self) != id(other)</span>

        <span class="s0">class </span><span class="s1">foo2 (Rect):</span>
            <span class="s0">pass</span>

        <span class="s1">r5 = foo(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">40</span><span class="s1">)</span>
        <span class="s1">r6 = foo2(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">40</span><span class="s1">)</span>

        <span class="s1">self.assertNotEqual(r5</span><span class="s0">, </span><span class="s1">r2)</span>

        <span class="s5"># because we define equality differently for this subclass.</span>
        <span class="s1">self.assertEqual(r6</span><span class="s0">, </span><span class="s1">r2)</span>


        <span class="s1">rect_list = [r1</span><span class="s0">, </span><span class="s1">r2</span><span class="s0">, </span><span class="s1">r3</span><span class="s0">, </span><span class="s1">r4</span><span class="s0">, </span><span class="s1">r6]</span>

        <span class="s5"># see if we can remove 4 of these.</span>
        <span class="s1">rect_list.remove(r2)</span>
        <span class="s1">rect_list.remove(r2)</span>
        <span class="s1">rect_list.remove(r2)</span>
        <span class="s1">rect_list.remove(r2)</span>
        <span class="s1">self.assertRaises(ValueError</span><span class="s0">, </span><span class="s1">rect_list.remove</span><span class="s0">, </span><span class="s1">r2)</span>

    <span class="s0">def </span><span class="s1">test_collidedict(self):</span>

        <span class="s5"># __doc__ (as of 2008-08-02) for pygame.rect.Rect.collidedict:</span>

          <span class="s5"># Rect.collidedict(dict): return (key, value)</span>
          <span class="s5"># test if one rectangle in a dictionary intersects</span>
          <span class="s5">#</span>
          <span class="s5"># Returns the key and value of the first dictionary value that</span>
          <span class="s5"># collides with the Rect. If no collisions are found, None is</span>
          <span class="s5"># returned.</span>
          <span class="s5">#</span>
          <span class="s5"># Rect objects are not hashable and cannot be used as keys in a</span>
          <span class="s5"># dictionary, only as values.</span>

        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r1 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r2 = Rect(</span><span class="s2">50</span><span class="s0">, </span><span class="s2">50</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r3 = Rect(</span><span class="s2">70</span><span class="s0">, </span><span class="s2">70</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r4 = Rect(</span><span class="s2">61</span><span class="s0">, </span><span class="s2">61</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>

        <span class="s1">d = {</span><span class="s2">1</span><span class="s1">: r1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">: r2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">: r3}</span>

        <span class="s1">rects_values = </span><span class="s2">1</span>
        <span class="s1">val = r.collidedict(d</span><span class="s0">, </span><span class="s1">rects_values)</span>
        <span class="s1">self.assertTrue(val)</span>
        <span class="s1">self.assertEqual(len(val)</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(val[</span><span class="s2">0</span><span class="s1">]</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(val[</span><span class="s2">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">r1)</span>

        <span class="s1">none_d = {</span><span class="s2">2</span><span class="s1">: r2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">: r3}</span>
        <span class="s1">none_val = r.collidedict(none_d</span><span class="s0">, </span><span class="s1">rects_values)</span>
        <span class="s1">self.assertFalse(none_val)</span>

        <span class="s1">barely_d = {</span><span class="s2">1</span><span class="s1">: r1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">: r2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">: r3}</span>
        <span class="s1">k3</span><span class="s0">, </span><span class="s1">v3 = r4.collidedict(barely_d</span><span class="s0">, </span><span class="s1">rects_values)</span>
        <span class="s1">self.assertEqual(k3</span><span class="s0">, </span><span class="s2">3</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(v3</span><span class="s0">, </span><span class="s1">r3)</span>


    <span class="s0">def </span><span class="s1">test_collidedictall(self):</span>

        <span class="s5"># __doc__ (as of 2008-08-02) for pygame.rect.Rect.collidedictall:</span>

          <span class="s5"># Rect.collidedictall(dict): return [(key, value), ...]</span>
          <span class="s5"># test if all rectangles in a dictionary intersect</span>
          <span class="s5">#</span>
          <span class="s5"># Returns a list of all the key and value pairs that intersect with</span>
          <span class="s5"># the Rect. If no collisions are found an empty dictionary is</span>
          <span class="s5"># returned.</span>
          <span class="s5">#</span>
          <span class="s5"># Rect objects are not hashable and cannot be used as keys in a</span>
          <span class="s5"># dictionary, only as values.</span>

        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>

        <span class="s1">r2 = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r3 = Rect(</span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r4 = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">r5 = Rect(</span><span class="s2">50</span><span class="s0">, </span><span class="s2">50</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>

        <span class="s1">rects_values = </span><span class="s2">1</span>
        <span class="s1">d = {</span><span class="s2">2</span><span class="s1">: r2}</span>
        <span class="s1">l = r.collidedictall(d</span><span class="s0">, </span><span class="s1">rects_values)</span>
        <span class="s1">self.assertEqual(l</span><span class="s0">, </span><span class="s1">[(</span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2)])</span>

        <span class="s1">d2 = {</span><span class="s2">2</span><span class="s1">: r2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">: r3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">: r4</span><span class="s0">, </span><span class="s2">5</span><span class="s1">: r5}</span>
        <span class="s1">l2 = r.collidedictall(d2</span><span class="s0">, </span><span class="s1">rects_values)</span>
        <span class="s1">self.assertEqual(l2</span><span class="s0">, </span><span class="s1">[(</span><span class="s2">2</span><span class="s0">, </span><span class="s1">r2)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">3</span><span class="s0">, </span><span class="s1">r3)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">4</span><span class="s0">, </span><span class="s1">r4)])</span>

    <span class="s0">def </span><span class="s1">test_collidelist(self):</span>

        <span class="s5"># __doc__ (as of 2008-08-02) for pygame.rect.Rect.collidelist:</span>

          <span class="s5"># Rect.collidelist(list): return index</span>
          <span class="s5"># test if one rectangle in a list intersects</span>
          <span class="s5">#</span>
          <span class="s5"># Test whether the rectangle collides with any in a sequence of</span>
          <span class="s5"># rectangles. The index of the first collision found is returned. If</span>
          <span class="s5"># no collisions are found an index of -1 is returned.</span>

        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>
        <span class="s1">l = [Rect(</span><span class="s2">50</span><span class="s0">, </span><span class="s2">50</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">Rect(</span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span><span class="s0">, </span><span class="s1">Rect(</span><span class="s2">15</span><span class="s0">, </span><span class="s2">15</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)]</span>

        <span class="s1">self.assertEqual(r.collidelist(l)</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>

        <span class="s1">f = [Rect(</span><span class="s2">50</span><span class="s0">, </span><span class="s2">50</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">(</span><span class="s2">100</span><span class="s0">, </span><span class="s2">100</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)]</span>
        <span class="s1">self.assertEqual(r.collidelist(f)</span><span class="s0">, </span><span class="s1">-</span><span class="s2">1</span><span class="s1">)</span>


    <span class="s0">def </span><span class="s1">test_collidelistall(self):</span>

        <span class="s5"># __doc__ (as of 2008-08-02) for pygame.rect.Rect.collidelistall:</span>

          <span class="s5"># Rect.collidelistall(list): return indices</span>
          <span class="s5"># test if all rectangles in a list intersect</span>
          <span class="s5">#</span>
          <span class="s5"># Returns a list of all the indices that contain rectangles that</span>
          <span class="s5"># collide with the Rect. If no intersecting rectangles are found, an</span>
          <span class="s5"># empty list is returned.</span>

        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>

        <span class="s1">l = [</span>
            <span class="s1">Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span><span class="s0">,</span>
            <span class="s1">Rect(</span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span><span class="s0">,</span>
            <span class="s1">Rect(</span><span class="s2">15</span><span class="s0">, </span><span class="s2">15</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
            <span class="s1">Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">,</span>
        <span class="s1">]</span>
        <span class="s1">self.assertEqual(r.collidelistall(l)</span><span class="s0">, </span><span class="s1">[</span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">3</span><span class="s1">])</span>

        <span class="s1">f = [Rect(</span><span class="s2">50</span><span class="s0">, </span><span class="s2">50</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">Rect(</span><span class="s2">20</span><span class="s0">, </span><span class="s2">20</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)]</span>
        <span class="s1">self.assertFalse(r.collidelistall(f))</span>


    <span class="s0">def </span><span class="s1">test_fit(self):</span>

        <span class="s5"># __doc__ (as of 2008-08-02) for pygame.rect.Rect.fit:</span>

          <span class="s5"># Rect.fit(Rect): return Rect</span>
          <span class="s5"># resize and move a rectangle with aspect ratio</span>
          <span class="s5">#</span>
          <span class="s5"># Returns a new rectangle that is moved and resized to fit another.</span>
          <span class="s5"># The aspect ratio of the original Rect is preserved, so the new</span>
          <span class="s5"># rectangle may be smaller than the target in either width or height.</span>

        <span class="s1">r = Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">30</span><span class="s1">)</span>

        <span class="s1">r2 = Rect(</span><span class="s2">30</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">15</span><span class="s0">, </span><span class="s2">10</span><span class="s1">)</span>

        <span class="s1">f = r.fit(r2)</span>
        <span class="s1">self.assertTrue(r2.contains(f))</span>

        <span class="s1">f2 = r2.fit(r)</span>
        <span class="s1">self.assertTrue(r.contains(f2))</span>



    <span class="s0">def </span><span class="s1">test_copy(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)</span>
        <span class="s1">c = r.copy()</span>
        <span class="s1">self.assertEqual(c</span><span class="s0">, </span><span class="s1">r)</span>


    <span class="s0">def </span><span class="s1">test_subscript(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">]</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">1</span><span class="s1">]</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">2</span><span class="s1">]</span><span class="s0">, </span><span class="s2">3</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">3</span><span class="s1">]</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[-</span><span class="s2">1</span><span class="s1">]</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[-</span><span class="s2">2</span><span class="s1">]</span><span class="s0">, </span><span class="s2">3</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[-</span><span class="s2">4</span><span class="s1">]</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">self.assertRaises(IndexError</span><span class="s0">, </span><span class="s1">r.__getitem__</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span>
        <span class="s1">self.assertRaises(IndexError</span><span class="s0">, </span><span class="s1">r.__getitem__</span><span class="s0">, </span><span class="s1">-</span><span class="s2">5</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">:</span><span class="s2">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">:</span><span class="s2">4</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">:-</span><span class="s2">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[:]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[...]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">:</span><span class="s2">4</span><span class="s1">:</span><span class="s2">2</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">3</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">0</span><span class="s1">:</span><span class="s2">4</span><span class="s1">:</span><span class="s2">3</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertEqual(r[</span><span class="s2">3</span><span class="s1">::-</span><span class="s2">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">[</span><span class="s2">4</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s1">])</span>
        <span class="s1">self.assertRaises(TypeError</span><span class="s0">, </span><span class="s1">r.__getitem__</span><span class="s0">, None</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_ass_subscript(self):</span>
        <span class="s1">r = Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">r[...] = </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertRaises(TypeError</span><span class="s0">, </span><span class="s1">r.__setitem__</span><span class="s0">, None, </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertRaises(TypeError</span><span class="s0">, </span><span class="s1">r.__setitem__</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s4">''</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertRaises(IndexError</span><span class="s0">, </span><span class="s1">r.__setitem__</span><span class="s0">, </span><span class="s2">4</span><span class="s0">, </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">self.assertRaises(IndexError</span><span class="s0">, </span><span class="s1">r.__setitem__</span><span class="s0">, </span><span class="s1">-</span><span class="s2">5</span><span class="s0">, </span><span class="s2">0</span><span class="s1">)</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">r[</span><span class="s2">0</span><span class="s1">] = </span><span class="s2">10</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">10</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">])</span>
        <span class="s1">r[</span><span class="s2">3</span><span class="s1">] = </span><span class="s2">40</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">10</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">40</span><span class="s1">])</span>
        <span class="s1">r[-</span><span class="s2">1</span><span class="s1">] = </span><span class="s2">400</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">10</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">400</span><span class="s1">])</span>
        <span class="s1">r[-</span><span class="s2">4</span><span class="s1">] = </span><span class="s2">100</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">100</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">400</span><span class="s1">])</span>
        <span class="s1">r[</span><span class="s2">1</span><span class="s1">:</span><span class="s2">3</span><span class="s1">] = </span><span class="s2">0</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">100</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">400</span><span class="s1">])</span>
        <span class="s1">r[...] = </span><span class="s2">0</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s1">])</span>
        <span class="s1">r[:] = </span><span class="s2">9</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">9</span><span class="s0">, </span><span class="s2">9</span><span class="s0">, </span><span class="s2">9</span><span class="s0">, </span><span class="s2">9</span><span class="s1">])</span>
        <span class="s1">r[:] = </span><span class="s2">11</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">13</span><span class="s0">, </span><span class="s2">14</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">11</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">13</span><span class="s0">, </span><span class="s2">14</span><span class="s1">])</span>
        <span class="s1">r[::-</span><span class="s2">1</span><span class="s1">] = r</span>
        <span class="s1">self.assertEqual(r</span><span class="s0">, </span><span class="s1">[</span><span class="s2">14</span><span class="s0">, </span><span class="s2">13</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">11</span><span class="s1">])</span>


<span class="s0">class </span><span class="s1">SubclassTest(unittest.TestCase):</span>
    <span class="s0">class </span><span class="s1">MyRect(Rect):</span>
        <span class="s0">def </span><span class="s1">__init__(self</span><span class="s0">, </span><span class="s1">*args</span><span class="s0">, </span><span class="s1">**kwds):</span>
            <span class="s1">super(SubclassTest.MyRect</span><span class="s0">, </span><span class="s1">self).__init__(*args</span><span class="s0">, </span><span class="s1">**kwds)</span>
            <span class="s1">self.an_attribute = </span><span class="s0">True</span>

    <span class="s0">def </span><span class="s1">test_copy(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.copy()</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_move(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.move(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_inflate(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">20</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.inflate(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_clamp(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">19</span><span class="s0">, </span><span class="s2">12</span><span class="s0">, </span><span class="s2">5</span><span class="s0">, </span><span class="s2">5</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.clamp(Rect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s1">))</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_clip(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.clip(Rect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">3</span><span class="s0">, </span><span class="s2">4</span><span class="s1">))</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_union(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.union(Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">2</span><span class="s1">))</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_unionall(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">0</span><span class="s0">, </span><span class="s2">0</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.unionall([Rect(-</span><span class="s2">2</span><span class="s0">, </span><span class="s1">-</span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">Rect(</span><span class="s2">2</span><span class="s0">, </span><span class="s2">2</span><span class="s0">, </span><span class="s2">1</span><span class="s0">, </span><span class="s2">1</span><span class="s1">)])</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

    <span class="s0">def </span><span class="s1">test_fit(self):</span>
        <span class="s1">mr1 = self.MyRect(</span><span class="s2">10</span><span class="s0">, </span><span class="s2">10</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">30</span><span class="s1">)</span>
        <span class="s1">self.assertTrue(mr1.an_attribute)</span>
        <span class="s1">mr2 = mr1.fit(Rect(</span><span class="s2">30</span><span class="s0">, </span><span class="s2">30</span><span class="s0">, </span><span class="s2">15</span><span class="s0">, </span><span class="s2">10</span><span class="s1">))</span>
        <span class="s1">self.assertTrue(isinstance(mr2</span><span class="s0">, </span><span class="s1">self.MyRect))</span>
        <span class="s1">self.assertRaises(AttributeError</span><span class="s0">, </span><span class="s1">getattr</span><span class="s0">, </span><span class="s1">mr2</span><span class="s0">, </span><span class="s4">&quot;an_attribute&quot;</span><span class="s1">)</span>

<span class="s0">if </span><span class="s1">__name__ == </span><span class="s4">'__main__'</span><span class="s1">:</span>
    <span class="s1">unittest.main()</span>
</pre>
</body>
</html>